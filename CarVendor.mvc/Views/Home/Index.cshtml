@model IEnumerable<CarVendor.mvc.CarViewModel>
@{
    ViewBag.Title = "Home Page";

}
<meta charset="utf-8">

<meta name="format-detection" content="telephone=no" />
<script src="~/Content/js/angular.min.js"></script>
<script src="~/Content/js/Module.js"></script>
<script src="~/Content/js/CartCTR.js"></script>
<script>
    $(document).ready(function () {
        if ($('html').hasClass('desktop')) {
            new WOW().init();
        }
    });
</script>
<!--<![endif]-->
<script>
    $(document).ready(function () {
        $('#camera_wrap').camera({
            loader: true,
            pagination: true,
            minHeight: '',
            thumbnails: false,
            height: '52.8735632183908%',
            caption: true,
            navigation: false,
            fx: 'simpleFade',
            onLoaded: function () {
                $('.slider-wrapper')[0].style.height = 'auto';
            }
        });
        $("#tabs").tabs();
        $('#bookingForm').bookingForm({
            ownerEmail: '#'
        });
        $('#bookingForm2').bookingForm({
            ownerEmail: '#'
        });
    });
</script>



<!--             CONTENT
=========================================================-->
<section id="content">
    <div class="width-wrapper width-wrapper__inset1">
        <div class="wrapper1">
            <div class="container">
                <div class="row_Nav">
                    <div class="grid_3">
                        <div id="tabs">
                            <div class="row">
                                <div class="grid_3">
                                    <ul class="tabs-list">
                                        @*<li>/Content/js
                                                <a href="#tabs-1">
                                                    <div class="tab tab-first maxheight">
                                                        Used cars
                                                    </div>
                                                </a>
                                            </li>*@
                                        <li>
                                            <a href="#tabs-2">
                                                <div class="tab maxheight">
                                                    Search
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div id="tabs-2" ng-app="myApp" ng-controller="HomeCTR">
                                <form id="" class="bookingForm1 wow fadeIn">

                                    <div class="form-row" style="margin-top:10px">
                                        <div class="form-group col-md-12 mb-4">
                                            <span class="heading">Category:</span>
                                            <select name="Make" class="tmSelect auto" data-class="tmSelect tmSelect2" ng-model="Categoryselected">

                                                <option value="">Select Category</option>
                                                <option ng-repeat="Category in Categories" value="{{Category.Id}}">{{Category.Name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-row" style="margin-top:10px">
                                        <div class="form-group col-md-12 mb-4">
                                            <span class="heading">Color:</span>
                                            <select name="Make" class="tmSelect auto" data-class="tmSelect tmSelect2" ng-model="Colorselected">
                                                <option value="">Select Color</option>
                                                <option ng-repeat="Color in Colors" value="{{Color.Id}}">{{Color.Name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-row" style="margin-top:20px">
                                        <button class="btn-big" ng-click="FindCar()" data-type="submit">Find a car</button>

                                    </div>

                                </form>
                            </div>

                        </div>
                        <div class="banner1">
                            <h2 class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.1s">
                                <a href="#">About our Services</a>
                            </h2>
                            <p class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.2s">Lorem ipsum dolor sit amet conse ctetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit.</p>
                        </div>
                        @*<div class="post1">
                                <h2 class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.1s">Latest REVIEWS</h2>
                                <img class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.2s" src="~/images/page1_img1.png" alt="" />
                                <time class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.3s" datetime="2014-01-01">Monday, June 24, 2013</time>
                                <h3 class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.4s">
                                    <a href="#">Lorem ipsum dolor sit amet conse</a>
                                </h3>
                                <p class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.1s">Lorem ipsum dolor sit amet conse ctetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip.</p>
                            </div>*@
                    </div>
                    <div class="grid_9">
                        <div class="slider-wrapper">
                            <div id="camera_wrap">
                                <div data-src="/images/slider1.png">
                                    <div class="caption fadeIn">
                                        <div class="heading">
                                            <span class="first">2019 Alto</span>
                                            <span class="second"> Start From <span class="price">120000 EGP</span></span>
                                        </div>
                                        <div class="info wow fadeIn" data-wow-duration="1s" data-wow-delay=".2s">
                                            <span class="first">
                                                Mileage: <strong>130 000</strong> km
                                            </span>
                                            <span class="second">
                                                Volume capacity: <strong>1.3</strong>l
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div data-src="/images/slider2.png">
                                    <div class="caption fadeIn">
                                        <div class="heading">
                                            <span class="first">2019 APV</span>
                                            <span class="second"> Start From <span class="price">86000 EGP</span></span>
                                        </div>
                                        <div class="info wow fadeIn" data-wow-duration="1s" data-wow-delay=".2s">
                                            <span class="first">
                                                Mileage: <strong>130 000</strong> km
                                            </span>
                                            <span class="second">
                                                Volume capacity: <strong>1.3</strong>l
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div data-src="/images/slider3.png">
                                    <div class="caption fadeIn">
                                        <div class="heading">
                                            <span class="first">2019 Ciaz</span>
                                            <span class="second"> Start From <span class="price">260000 EGP</span></span>
                                        </div>
                                        <div class="info wow fadeIn" data-wow-duration="1s" data-wow-delay=".2s">
                                            <span class="first">
                                                Mileage: <strong>130 000</strong> km
                                            </span>
                                            <span class="second">
                                                Volume capacity: <strong>1.3</strong>l
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div data-src="/images/slider4.png">
                                    <div class="caption fadeIn">
                                        <div class="heading">
                                            <span class="first">2019 Ertiga</span>
                                            <span class="second">Start From <span class="price">195000 EGP</span></span>
                                        </div>
                                        <div class="info wow fadeIn" data-wow-duration="1s" data-wow-delay=".2s">
                                            <span class="first">
                                                Mileage: <strong>130 000</strong> km
                                            </span>
                                            <span class="second">
                                                Volume capacity: <strong>1.3</strong>l
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div data-src="/images/slider5.png">
                                    <div class="caption fadeIn">
                                        <div class="heading">
                                            <span class="first">2019 Swift Dzire</span>
                                            <span class="second">Start From <span class="price">91560 EGP</span></span>
                                        </div>
                                        <div class="info wow fadeIn" data-wow-duration="1s" data-wow-delay=".2s">
                                            <span class="first">
                                                Mileage: <strong>130 000</strong> km
                                            </span>
                                            <span class="second">
                                                Volume capacity: <strong>1.3</strong>l
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="wrapper2">
                            <div class="heading1 wow fadeIn" data-wow-duration="1s" data-wow-delay="0.1s">
                                <h2>Latest used cars</h2>
                            </div>
                            <div class="border-wrapper1 wrapper3">
                                <div class="row">
                                    @foreach (var item in Model)
                                    {

                                        <div class="form-group col-md-4 mb-3 col-sm-6">
                                            <div class="box1 carView">
                                                <h4 class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.1s">
                                                    <a href="#">@item.Name</a>
                                                </h4>
                                                @{ ViewData["colors"] = new SelectList(item.Colors, "Id", "Name");
        ViewData["categories"] = new SelectList(item.Categories, "Id", "Name", "Price");
        // var img = "/images/" + @item.Colors.Select(s => s.Images.Select(s1 => s1.Name).FirstOrDefault()).FirstOrDefault();
                                                }
                                                <div class="row">
                                                    <img id="@item.Id" class="wow fadeIn" data-wow-duration="1s" data-wow-delay="0.2s" src="/images/@item.FirstImageView" alt="" />
                                                </div>

                                                <div class="row info wow fadeIn" data-wow-duration="1s" data-wow-delay=".2s">
                                                    <span class="first" style="padding-right: 16px;margin-left: 14px;">Brand: <span class="highlighted">@item.Brand</span></span>
                                                    <span class="second">Price: <span Id="Price_@item.Id" class="highlighted">@item.Categories.First().Price</span> EGP</span>
                                                </div>

                                                <div class="info wow fadeIn row" data-wow-duration="1s" data-wow-delay=".2s">

                                                    <div class="second">
                                                        <div class="editor-label" style="margin-left:12px;">
                                                            @Html.Label("Color:")
                                                        </div>
                                                        <div class="editor-field dropdown">
                                                            @Html.DropDownList("Color", ViewBag.colors as IEnumerable<SelectListItem>, new { onchange = "ColorChange(this.value," + @item.Id + ")", Id = "color_" + item.Id, @class = "dropdown-item" })
                                                        </div>

                                                    </div>

                                                    <div class="first dropdown" style="padding-right: 11px;">
                                                        <div class="editor-label dropdown">
                                                            @Html.Label("Category:")
                                                        </div>
                                                        <div class="editor-field ">
                                                            @Html.DropDownList("Category", ViewBag.categories as IEnumerable<SelectListItem>, new { onchange = "CategoryChange(this.value," + @item.Id + ")", Id = "category_" + item.Id, @class = "dropdown-item" })

                                                        </div>

                                                    </div>

                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="wow fadeIn row" data-wow-duration="1s" data-wow-delay=".3s" style="margin-left:10%; margin-top:2px;">
                                                    <button type="button" class="btn btn-default" onclick="addToCart({CarId:@item.Id})"><i class="fa fa-shopping-cart"></i> Add to Cart</button>
                                                    <div class="clearfix"></div>
                                                </div>


                                                @*<div class="info2 wow fadeIn row" data-wow-duration="1s" data-wow-delay=".3s">
                                         <a class="btn-default" style="cursor:pointer" onclick="addToCart({CarId:@item.Id})">
                                                        <span>Add to Cart</span>
                                                    </a>
                                                    <div class="clearfix"></div>
                                                </div>*@
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>



                            <div class="button-wrapper1">
                                <a class="btn-big-green wow fadeIn" data-wow-duration="1s" data-wow-delay="0.1s" href="#">
                                    <span>See all cars</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

